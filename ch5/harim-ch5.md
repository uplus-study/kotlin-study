# ëŒë‹¤ë¡œ í”„ë¡œê·¸ë˜ë°

### ëŒë‹¤ ì‹, ëŒë‹¤
> ë‹¤ë¥¸ í•¨ìˆ˜ì— ë„˜ê¸¸ ìˆ˜ ìˆëŠ” ì‘ì€ ì½”ë“œ ì¡°ê°
- ì‰½ê²Œ ê³µí†µ ì½”ë“œ êµ¬ì¡°ë¥¼ ë¼ì´ë¸ŒëŸ¬ë¦¬ í•¨ìˆ˜ë¡œ ë½‘ì•„ë‚¼ ìˆ˜ ìˆìŒ
- ì˜ˆì „ ìë°”ì—ì„œëŠ” ë¬´ëª… ë‚´ë¶€ í´ë˜ìŠ¤ë¥¼ í†µí•´ì„œ ì¼ë ¨ì˜ ë™ì‘ì„ ë³€ìˆ˜ì— ì €ì¥í•˜ê±°ë‚˜ ë‹¤ë¥¸ í•¨ìˆ˜ì— ë„˜ê¸°ëŠ” ì‘ì—…ì„ í•¨
- í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë°ì—ì„œëŠ” í•¨ìˆ˜ë¥¼ ê°’ì²˜ëŸ¼ ë‹¤ë£¸
-> í•¨ìˆ˜ë¥¼ ì§ì ‘ ë‹¤ë¥¸ í•¨ìˆ˜ì— ì „ë‹¬ ê°€ëŠ¥
-> ëŒë‹¤ ì‹ìœ¼ë¡œ ì½”ë“œ ë”ìš± ê°„ê²°í•´ì§
- ìë°”8ì—ì„œ ëŒë‹¤ ì ìš© ê°€ëŠ¥, ì½”í‹€ë¦°ë„ ê°€ëŠ¥ 

### ëŒë‹¤ ì‹ ë¬¸ë²•

```Kotlin
{ x: Int, y: Int -> x + y }

val sum = { x: Int, y: Int -> x + y } //ë³€ìˆ˜ì— ì €ì¥

{ println(42) } {} //ëŒë‹¤ ì‹ ì§ì ‘ í˜¸ì¶œ, ì¶œë ¥: 42
```

- ëŒë‹¤ ì •ì˜ í›„ ë³€ìˆ˜ì— ì €ì¥ ê°€ëŠ¥
- ì½”í‹€ë¦°ì—ì„œ ëŒë‹¤ ì‹ì€ í•­ìƒ ì¤‘ê´„í˜¸ì— ì„ ì–¸
- í™”ì‚´í‘œë¡œ ì¸ì ëª©ë¡ê³¼ ë³¸ë¬¸ êµ¬ë¶„
- zì½”ë“œ ì¼ë¶€ë¶„ì„ ë¸”ë¡ìœ¼ë¡œ ë‘˜ëŸ¬ì‹¸ ì‹¤í–‰í•  ë•Œ `run` ì‚¬ìš©
    ```Kotlin
    run { println(42) } //ëŒë‹¤ ë³¸ë¬¸ì— ìˆëŠ” ì½”ë“œ ì‹¤í–‰
    ```

ì˜ˆì œ
```Kotlin
people.maxBy({ p: Person -> p.age })
```
- ë§¨ ë’¤ ì¸ìê°€ ëŒë‹¤ì‹ì´ë¼ë©´ ê´„í˜¸ ë¹¼ë‚¼ ìˆ˜ ìˆìŒ
- ëŒë‹¤ê°€ ì–´ë–¤ í•¨ìˆ˜ì˜ ìœ ì¼í•œ ì¸ìë©´ì„œ ê´„í˜¸ ë’¤ ëŒë‹¤ë¥¼ ì¼ë‹¤ë©´ ë¹ˆ ê´„í˜¸ ì—†ì•¨ ìˆ˜ ìˆìŒ
    ```Kotlin
    people.maxBy() { p: Person -> p.age }
    people.maxBy { p: Person -> p.age }
    ```
- íŒŒë¼ë¯¸í„° íƒ€ì… ì œê±° ê°€ëŠ¥ <- ì»´íŒŒì¼ëŸ¬ê°€ íƒ€ì… ì¶”ë¡ 
    > ëŒë‹¤ë¥¼ ë³€ìˆ˜ì— ì €ì¥í•  ë•ŒëŠ” íƒ€ì… ì¶”ë¡  X -> íƒ€ì… ëª…ì‹œ í•„ìš”
    ```Kotlin
    people.maxBy { p -> p.age }
    ```
- `it` íŒŒë¼ë¯¸í„° í•˜ë‚˜ë¿ì´ê³  íƒ€ì…ì„ ì»´íŒŒì¼ëŸ¬ê°€ ì¶”ë¡ í•  ìˆ˜ ìˆëŠ” ê²½ìš° ì‚¬ìš© 
    ```Kotlin
    people.maxBy { it.age }
    ```

### í˜„ì¬ ì˜ì—­ì— ìˆëŠ” ë³€ìˆ˜ì— ì ‘ê·¼
- ìë°” ë©”ì„œë“œ ì•ˆì— ë¬´ëª… ë‚´ë¶€ í´ë˜ìŠ¤ ì •ì˜í•  ë•Œ ë©”ì„œë“œì˜ ë¡œì»¬ ë³€ìˆ˜ë¥¼ ë¬´ëª… ë‚´ë¶€ í´ë˜ìŠ¤ì—ì„œ ì‚¬ìš© O
- ëŒë‹¤ë„ ë§ˆì°¬ê°€ì§€ë¡œ í•¨ìˆ˜ì˜ íŒŒë¼ë¯¸í„°, ëŒë‹¤ ì •ì˜ ì•ì— ì„ ì–¸ëœ ë¡œì»¬ ë³€ìˆ˜ ì‚¬ìš© O
- ìë°”ì™€ ë‹¤ë¥´ê²Œ ì½”í‹€ë¦° ëŒë‹¤ ì•ˆì—ì„œëŠ” **íŒŒì´ë„ ë³€ìˆ˜ê°€ ì•„ë‹Œ ë³€ìˆ˜ì— ì ‘ê·¼ ê°€ëŠ¥, ëŒë‹¤ ì•ˆì—ì„œ ë°”ê¹¥ ë³€ìˆ˜ ë³€ê²½ ê°€ëŠ¥**
- í¬íš ë³€ìˆ˜: ëŒë‹¤ ì•ˆì—ì„œ ì‚¬ìš©í•˜ëŠ” ì™¸ë¶€ ë³€ìˆ˜
  - í•¨ìˆ˜ê°€ ìì‹ ì˜ ë¡œì»¬ ë³€ìˆ˜ í¬íší•œ ëŒë‹¤ ë°˜í™˜í•˜ê±°ë‚˜ ë‹¤ë¥¸ ë³€ìˆ˜ì— ì €ì¥í•œë‹¤ë©´ ë¡œì»¬ ë³€ìˆ˜/í•¨ìˆ˜ì˜ ìƒëª…ì£¼ê¸° ë‹¬ë¼ì§ 
  - íŒŒì´ë„ ë³€ìˆ˜ í¬íší•œ ê²½ìš°, ëŒë‹¤ ì½”ë“œë¥¼ ë³€ìˆ˜ ê°’ê³¼ í•¨ê»˜ ì €ì¥
  - íŒŒì´ë„ X ë³€ìˆ˜ í¬íší•œ ê²½ìš°, íŠ¹ë³„í•œ ë˜í¼ë¡œ ê°ì‹¸ ë‚˜ì¤‘ì— ë³€ê²½í•˜ê±°ë‚˜ ì½ì„ ìˆ˜ ìˆê²Œ í•œ ë‹¤ìŒ ë˜í¼ì— ëŒ€í•œ ì°¸ì¡°ë¥¼ ëŒë‹¤ ì½”ë“œì™€ í•¨ê»˜ ì €ì¥
- ë³€ê²½ ê°€ëŠ¥í•œ ë³€ìˆ˜ í¬íší•˜ê¸°
    ```Kotlin
    var counter = 0
    val inc = { counter++ }
    ```
- âš ï¸ ì£¼ì˜í•  ì  !
  - ëŒë‹¤ë¥¼ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë‚˜ ë¹„ë™ê¸°ì ìœ¼ë¡œ ì‹¤í–‰ë˜ëŠ” ì½”ë“œë¡œ í™œìš©í•˜ëŠ” ê²½ìš°, í•¨ìˆ˜ í˜¸ì¶œì´ ëë‚œ ë‹¤ìŒì— ë¡œì»¬ ë³€ìˆ˜ê°€ ë³€ê²½ë  ìˆ˜ë„ ìˆìŒ

### ë©¤ë²„ ì°¸ì¡°
- ë„˜ê¸°ë ¤ëŠ” ì½”ë“œ ë¸”ë¡ì´ ì´ë¯¸ í•¨ìˆ˜ë¡œ ì„ ì–¸ëœ ê²½ìš°,
  - í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ëŠ” ëŒë‹¤ë¥¼ ë§Œë“¤ë©´ ë¨ -> í•˜ì§€ë§Œ ì¤‘ë³µì„! ğŸ˜«
  - í•¨ìˆ˜ë¥¼ ì§ì ‘ ë„˜ê¸°ê¸° ìœ„í•´ ê°’ìœ¼ë¡œ ë°”ê¿ˆ, ì´ì¤‘ ì½œë¡  ì‚¬ìš© => **ë©¤ë²„ ì°¸ì¡°**
    ```Kotlin
    val getAge = Person::age

    //val getAage = { person: Person -> person.age } ì™€ ê°™ì€ í‘œí˜„
    ```
- ë©¤ë²„ ì°¸ì¡°ëŠ” í”„ë¡œí¼í‹°ë‚˜ ë©”ì„œë“œë¥¼ ë‹¨ í•˜ë‚˜ë§Œ í˜¸ì¶œí•˜ëŠ” í•¨ìˆ˜ ê°’ì„ ë§Œë“¤ì–´ì¤Œ
- ë©¤ë²„ ì°¸ì¡° ë’¤ì—ëŠ” ê´„í˜¸ X
- ìµœìƒìœ„ ì„ ì–¸ëœ í•¨ìˆ˜ë‚˜ í”„ë¡œí¼í‹° ì°¸ì¡° ê°€ëŠ¥
    ```Kotlin
    fun salute() = println("Salute!")
    
    run(::salute) // ì¶œë ¥: Salute!
    ```
- ì¸ì ì—¬ëŸ¿ì¸ ë‹¤ë¥¸ í•¨ìˆ˜í•œí…Œ ì‘ì—… ìœ„ì„í•˜ëŠ” ê²½ìš° ëŒë‹¤ ì •ì˜í•˜ì§€ ì•Šê³  ì§ì ‘ ìœ„ì„ í•¨ìˆ˜ì— ëŒ€í•œ ì°¸ì¡° ì œê³µí•˜ëŠ” ê²ƒì´ í¸ë¦¬
- **ìƒì„±ì ì°¸ì¡°**ë¥¼ ì‚¬ìš©í•˜ì—¬ í´ë˜ìŠ¤ ìƒì„± ì‘ì—… ì—°ê¸°í•˜ê±°ë‚˜ ì €ì¥í•´ë‘˜ ìˆ˜ ìˆìŒ
  - :: ë’¤ì— í´ë˜ìŠ¤ ì´ë¦„ ë„£ì–´ ìƒì„±ì ì°¸ì¡° ë§Œë“¦
- í™•ì¥ í•¨ìˆ˜ë„ ë©¤ë²„ í•¨ìˆ˜ì™€ ê°™ì€ ë°©ì‹ìœ¼ë¡œ ì°¸ì¡° ê°€ëŠ¥

> ë°”ìš´ë“œ ë©¤ë²„ ì°¸ì¡°
>
> ì½”í‹€ë¦° 1.0ì—ì„œëŠ” í´ë˜ìŠ¤ ë©”ì„œë“œë‚˜ í”„ë¡œí¼í‹°ì— ëŒ€í•œ ì°¸ì¡° ì–»ì€ í›„ ì°¸ì¡° í˜¸ì¶œí•  ë•Œ ì¸ìŠ¤í„´ìŠ¤ ê°ì²´ë¥¼ ì œê³µí•´ì•¼ í–ˆìŒ
> 1.1ë¶€í„° ë°”ìš´ë“œ ë©¤ë²„ë¥¼ ì§€ì›í•˜ì—¬ ë©¤ë²„ ì°¸ì¡°ë¥¼ ìƒì„±í•  ë•Œ í´ë˜ìŠ¤ ì¸ìŠ¤í„´ìŠ¤ë¥¼ í•¨ê»˜ ì €ì¥í•œ ë‹¤ìŒ ê·¸ ì¸ìŠ¤í„´ìŠ¤ì— ëŒ€í•´ ë©¤ë²„ë¥¼ í˜¸ì¶œí•´ì¤Œ -> í˜¸ì¶œ ì‹œ ìˆ˜ì‹  ëŒ€ìƒ ê°ì²´ ë³„ë„ë¡œ ì§€ì •í•  í•„ìš” X
> ```Kotlin
> val p = Person("Peter", 30)
> val personAgeFunction = Person::age
> println(personAgeFunction(p))
>
> //1.1 ì´í›„
> val dmitrysAgeFunction = p::age
> println(dmitrysAgeFunction())
> ```
>

### ì»¬ë ‰ì…˜ í•¨ìˆ˜í˜• API
- filter í•¨ìˆ˜: ì»¬ë ‰ì…˜ì„ ì´í„°ë ˆì´ì…˜í•´ì„œ ì£¼ì–´ì§„ ëŒë‹¤ì— ê° ì›ì†Œë¥¼ ë„˜ê²¨ì„œ ëŒë‹¤ê°€ trueë¥¼ ë°˜í™˜í•˜ëŠ” ì›ì†Œë§Œ ëª¨ìŒ
  ```Kotlin
  val list = listOf(1, 2, 3, 4)
  println(list.filter { it % 2 == 0}) // [2, 4]
  ```
    - ì»¬ë ‰ì…˜ì—ì„œ ì›ì¹˜ ì•ŠëŠ” ì›ì†Œë¥¼ ì œê±°í•¨
  
- map í•¨ìˆ˜: ì£¼ì–´ì§„ ëŒë‹¤ë¥¼ ì»¬ë ‰ì…˜ì˜ ê° ì›ì†Œì— ì ìš©í•œ ê²°ê³¼ë¥¼ ëª¨ì•„ ìƒˆ ì»¬ë ‰ì…˜ì„ ë§Œë“¦
  ```Kotlin
  val list = listOf(1, 2, 3, 4)
  println(list.map { it * it }) //[1, 4, 9, 16]
  ```

- all, any í•¨ìˆ˜: ì»¬ë ‰ì…˜ì˜ ì›ì†Œê°€ ì–´ë–¤ ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ”ì§€ íŒë‹¨
  
- count í•¨ìˆ˜: ì¡°ê±´ ë§Œì¡±í•˜ëŠ” ì›ì†Œ ê°œìˆ˜ ë°˜í™”
  
- find í•¨ìˆ˜: ì¡°ê±´ ë§Œì¡±í•˜ëŠ” ì²« ë²ˆì§¸ ì›ì†Œ ë°˜í™˜
  
> countì™€ size
>
> countëŠ” ì¡°ê±´ ë§Œì¡±í•˜ëŠ” ì›ì†Œì˜ **ê°œìˆ˜**ë§Œ ì¶”ì²™, ë§Œì¡±í•˜ëŠ” ì›ì†Œë¥¼ ë”°ë¡œ ì €ì¥í•˜ì§€ ì•ŠìŒ
> sizeëŠ” ì»¬ë ‰ì…˜ì„ ëŒ€ìƒìœ¼ë¡œ í•¨
>

- groupBy í•¨ìˆ˜: ë¦¬ìŠ¤íŠ¸ë¥¼ ì—¬ëŸ¬ ê·¸ë£¹ìœ¼ë¡œ ì´ë£¨ì–´ì§„ ë§µìœ¼ë¡œ ë³€ê²½
  - ì»¬ë ‰ì…˜ ì›ì†Œ êµ¬ë¶„í•˜ëŠ” íŠ¹ì„± -> í‚¤
  - í‚¤ ê°’ì— ë”°ë¥¸ ê° ê·¸ë£¹ -> ê°’

- flatMap í•¨ìˆ˜
    ```Kotlin
    class Book(val title: String, val authors: List<String>)

    books.flatMap { it.authors }.toSet() //books ì»¬ë ‰ì…˜ì— ìˆëŠ” ì±…ì„ ì“´ ëª¨ë“  ì €ìì˜ ì§‘í•©
    ```
    - ë¨¼ì € ì¸ìë¡œ ì£¼ì–´ì§„ ëŒë‹¤ë¥¼ ì»¬ë ‰ì…˜ì˜ ëª¨ë“  ê°ì²´ì— ì ìš©(map)
    - ëŒë‹¤ ì ìš©í•œ ê²°ê³¼ ì–»ì–´ì§€ëŠ” ì—¬ëŸ¬ ë¦¬ìŠ¤íŠ¸ë¥¼ í•œ ë¦¬ìŠ¤íŠ¸ë¡œ ëª¨ìŒ(flatten)
    - flatten: íŠ¹ë³„íˆ ë°˜í™˜í•´ì•¼ í•  ë‚´ìš© ì—†ì´ ë¦¬ìŠ¤íŠ¸ì˜ ë¦¬ìŠ¤íŠ¸ë¥¼ í‰í‰í•˜ê²Œ í¼ì¹  ë•Œ ì‚¬ìš©

### ì§€ì—° ê³„ì‚°
- ì•ì„œ ì„¤ëª…í•œ í•¨ìˆ˜ëŠ” ê²°ê³¼ ì»¬ë ‰ì…˜ì„ ì¦‰ì‹œ(eagerly) ìƒì„±
  - ë§¤ ë‹¨ê³„ë§ˆë‹¤ ê³„ì‚° ì¤‘ê°„ ê²°ê³¼ë¥¼ ìƒˆë¡œìš´ ì»¬ë ‰ì…˜ì— ì„ì‹œë¡œ ë‹´ìŒ
- `ì‹œí€€ìŠ¤(sequence)`ë¥¼ ì‚¬ìš©í•˜ë©´ ì¤‘ê°„ ì„ì‹œ ì»¬ë ‰ì…˜ ì‚¬ìš©í•˜ì§€ ì•Šê³ ë„ ì»¬ë ‰ì…˜ ì—°ì‚° ê°€ëŠ¥ -> ì„±ëŠ¥ ğŸ‘
```Kotlin
people.map(Person::name).filter{ it.startsWith('A') }

//sequence ì‚¬ìš©
people.asSequence() //ì‹œí€€ìŠ¤ë¡œ ë³€í™˜
    .map(Person::name)
    .filter{ it.startsWith('A') }
    .toList() //ê²°ê³¼ ì‹œí€€ìŠ¤ë¥¼ ë¦¬ìŠ¤íŠ¸ë¡œ ë³€í™˜
```

- Sequence ì¸í„°í˜ì´ìŠ¤
  - í•œ ë²ˆì— í•˜ë‚˜ì”© ì—´ê±°ë  ìˆ˜ ìˆëŠ” ì›ì†Œì˜ ì‹œí€€ìŠ¤ë¥¼ í‘œí˜„
  - `iterator` ë©”ì„œë“œ -> ì‹œí€€ìŠ¤ë¡œë¶€í„° ì›ì†Œ ê°’ ì–»ìŒ
  - ì‹œí€€ìŠ¤ ì›ì†ŒëŠ” ì‹¤ì œë¡œ ê·¸ ì›ì†Œê°€ í•„ìš”í•  ë•Œ ê³„ì‚°ë¨ 
  - `asSequence` í™•ì¥ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ì—¬ ì»¬ë ‰ì…˜ì„ ì‹œí€€ìŠ¤ë¡œ ë°”ê¿ˆ

### ì‹œí€€ìŠ¤ ì—°ì‚°: ì¤‘ê°„ ì—°ì‚°, ìµœì¢… ì—°ì‚°
- ì¤‘ê°„ ì—°ì‚° (intermediate)
  - ë‹¤ë¥¸ ì‹œí€€ìŠ¤ë¥¼ ë°˜í™˜í•¨
  - ê·¸ ì‹œí€€ìŠ¤ëŠ” ìµœì´ˆ ì‹œí€€ìŠ¤ì˜ ì›ì†Œë¥¼ ë³€í™˜í•˜ëŠ” ë°©ë²•ì„ ì• 
  - í•­ìƒ ì§€ì—° ê³„ì‚°ë¨
- ìµœì¢… ì—°ì‚° (terminal)
  - ê²°ê³¼ ë°˜í™˜
  - ê²°ê³¼ëŠ” ìµœì´ˆ ì»¬ë ‰ì…˜ì— ëŒ€í•´ ë³€í™˜ ì ìš©í•œ ì‹œí€€ìŠ¤ë¡œë¶€í„° ì¼ë ¨ì˜ ê³„ì‚°ì„ ìˆ˜í–‰í•´ ì–»ì„ ìˆ˜ ìˆëŠ” ì»¬ë ‰ì…˜ì´ë‚˜ ì›ì†Œ, ìˆ«ì ë˜ëŠ” ê°ì²´

```Kotlin
//ì´ ì½”ë“œ ì‹¤í–‰í•˜ë©´ ì¶œë ¥ X -> map, filter ì—°ì‚°ì´ ëŠ¦ì¶°ì§
listOf(1, 2, 3, 4).asSequence()
    .map{ print("map($it) "); it * it }
    .filter { print("filter($it) "); it % 2 == 0 }

//ìµœì¢… ì—°ì‚° í˜¸ì¶œë  ë•Œ ì—°ê¸°ë˜ì—ˆë˜ ëª¨ë“  ì—°ì‚° ì ìš©ë¨
listOf(1, 2, 3, 4).asSequence()
    .map{ print("map($it) "); it * it }
    .filter { print("filter($it) "); it % 2 == 0 }
    .toList()

> map(1) filter(1) map(2) filter(4) map(3) filter(9) map(4) filter(16)
```

> **ì—°ì‚° ìˆ˜í–‰ ìˆœì„œ ì£¼ì˜!**
>
> ì§ì ‘ ì—°ì‚°) map ì„ ìˆ˜í–‰í•´ì„œ ìƒˆ ì‹œí€€ìŠ¤ ì–»ê³  filter ìˆ˜í–‰í•  ê²ƒ
> 
> ì‹œí€€ìŠ¤) ëª¨ë“  ì—°ì‚°ì€ ê° ì›ì†Œì— ëŒ€í•´ ìˆœì°¨ ì²˜ë¦¬ë¨ -> ì²« ë²ˆì§¸ ì›ì†Œê°€ ì²˜ë¦¬ëœ í›„ ë‘ ë²ˆì§¸ ì›ì†Œê°€ ì²˜ë¦¬ë¨
>
> ë”°ë¼ì„œ ì›ì†Œ ì—°ì‚° ì°¨ë¡€ë¡œ ì ìš©í•˜ë‹¤ê°€ ê²°ê³¼ê°€ ì–»ì–´ì§€ë©´ ê·¸ ì´í›„ ì›ì†Œì— ëŒ€í•´ì„œëŠ” ë³€í™˜ X
> ![img](https://github.com/uplus-study/kotlin-study/assets/126530537/4fead322-f57f-43c5-9090-138417dbe162)


- `generateSequence` í•¨ìˆ˜ë¡œë„ ì‹œí€€ìŠ¤ ë§Œë“¤ ìˆ˜ ìˆìŒ

```Kotlin
val naturalNumbers = generateSequence(0) { it + 1 } //ì‹œí€€ìŠ¤
val numbersTo100 = naturalNumberes.takeWhile { it <= 100 } //ì‹œí€€ìŠ¤
println(numbersTo100.sum()) 

> 5050
```

### ìë°” í•¨ìˆ˜í˜• ì¸í„°í˜ì´ìŠ¤ í™œìš©
- ì½”í‹€ë¦°ì—ì„œëŠ” ë¬´ëª… í´ë˜ìŠ¤ ì¸ìŠ¤í„´ìŠ¤ ëŒ€ì‹  ëŒë‹¤ë¥¼ ë„˜ê¸¸ ìˆ˜ ìˆìŒ
```Kotlin
//ë¬´ëª… ë‚´ë¶€ í´ë˜ìŠ¤
button.setOnClickListener(new OnClickListener() {
  @Override
  public void onClick(View v) {
    ...
  }
})

//ì½”í‹€ë¦° ëŒë‹¤
button.setOnClickListener { View -> ... }
```
- `onClickListener` ì— ì¶”ìƒ ë©”ì„œë“œê°€ ë‹¨ í•˜ë‚˜ë§Œ ìˆê¸° ë•Œë¬¸ì— ê°€ëŠ¥ 
    => í•¨ìˆ˜í˜• ì¸í„°í˜ì´ìŠ¤, SAM(Single Abstract Method) ì¸í„°í˜ì´ìŠ¤
- ì½”í‹€ë¦°ì—ì„œëŠ” í•¨ìˆ˜í˜• ì¸í„°í˜ì´ìŠ¤ë¥¼ ì¸ìë¡œ ì·¨í•˜ëŠ” ìë°” ë©”ì„œë“œë¥¼ í˜¸ì¶œí•  ë•Œ ëŒë‹¤ ë„˜ê¸¸ ìˆ˜ ìˆìŒ

- ì˜ˆì œ
  ```Kotlin
  //java
  void postponeComputation(int delay, Runnable computation);

  //kotlin
  postponeComputation(1000) { println(42) }
  ```
  - ì»´íŒŒì¼ëŸ¬ê°€ ìë™ìœ¼ë¡œ ëŒë‹¤ë¥¼ Runnable ì¸ìŠ¤í„´ìŠ¤ë¡œ ë³€í™˜í•´ì¤Œ
    - Runnableì„ êµ¬í˜„í•œ ë¬´ëª… í´ë˜ìŠ¤ ì¸ìŠ¤í„´ìŠ¤
    - ëŒë‹¤ ë³¸ë¬¸ì„ ë¬´ëª… í´ë˜ìŠ¤ì˜ ìœ ì¼í•œ ì¶”ìƒ ë©”ì„œë“œ ë³¸ë¬¸ìœ¼ë¡œ ì‚¬ìš©
  - ëŒë‹¤ì™€ ë¬´ëª… ê°ì²´ ì‚¬ì´ ì°¨ì´ ì¡´ì¬
    - ê°ì²´ë¥¼ ëª…ì‹œì ìœ¼ë¡œ ì„ ì–¸í•˜ëŠ” ê²½ìš° ë©”ì„œë“œë¥¼ í˜¸ì¶œí•  ë•Œë§ˆë‹¤ ìƒˆë¡œìš´ ê°ì²´ ìƒì„±
    - ëŒë‹¤ì— ëŒ€ì‘í•˜ëŠ” ë¬´ëª… ê°ì²´ë¥¼ ë©”ì„œë“œ í˜¸ì¶œí•  ë•Œë§ˆë‹¤ ë°˜ë³µ ì‚¬ìš©
    - ëŒë‹¤ê°€ ì£¼ë³€ ì˜ì—­ì˜ ë³€ìˆ˜ í¬íší•œë‹¤ë©´ ë§¤ í˜¸ì¶œë§ˆë‹¤ ê°™ì€ ì¸ìŠ¤í„´ìŠ¤ ì‚¬ìš© X -> ë§¤ë²ˆ ì£¼ë³€ ì˜ì—­ ë³€ìˆ˜ í¬íší•œ ìƒˆë¡œìš´ ì¸ìŠ¤í„´ìŠ¤ ìƒì„±í•´ì¤Œ
  - ì»¬ë ‰ì…˜ì„ í™•ì¥í•œ ë©”ì„œë“œì— ëŒë‹¤ë¥¼ ë„˜ê¸°ëŠ” ê²½ìš° ë‹¤ë¦„
    - ì½”í‹€ë¦° inlineìœ¼ë¡œ í‘œì‹œëœ ì½”í‹€ë¦° í•¨ìˆ˜ì—ê²Œ ëŒë‹¤ë¥¼ ë„˜ê¸°ë©´ ì•„ë¬´ëŸ° ë¬´ëª… í´ë˜ìŠ¤ ë§Œë“¤ì–´ì§€ì§€ ì•ŠìŒ
  
- SAM ìƒì„±ì
  - ëŒë‹¤ë¥¼ í•¨ìˆ˜í˜• ì¸í„°í˜ì´ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ë¡œ ë³€í™˜í•  ìˆ˜ ìˆê²Œ ì»´íŒŒì¼ëŸ¬ê°€ ìë™ìœ¼ë¡œ ìƒì„±í•œ í•¨ìˆ˜
  - ì»´íŒŒì¼ëŸ¬ê°€ ìë™ìœ¼ë¡œ ëŒë‹¤ë¥¼ í•¨ìˆ˜í˜• ì¸í„°í˜ì´ìŠ¤ ë¬´ëª… í´ë˜ìŠ¤ë¡œ ë°”ê¾¸ì§€ ëª»í•˜ëŠ” ê²½ìš° SAM ìƒì„±ì ì‚¬ìš© O
    - í•¨ìˆ˜í˜• ì¸í„°í˜ì´ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ ë°˜í™˜í•´ì•¼ í•˜ëŠ” ê²½ìš° ëŒë‹¤ë¥¼ SAM ìƒì„±ìë¡œ ê°ì‹¸ì•¼ í•¨
    ```Kotlin
    fun createAllDoneRunnable(): Runnable {
      return Runnable { println("All done!") }
    }

    createAllDoneRunnable().run()
    > All Done!
    ```
  - SAM ìƒì„±ì ì´ë¦„ì€ ì‚¬ìš©í•˜ë ¤ëŠ” í•¨ìˆ˜í˜• ì¸í„°í˜ì´ìŠ¤ ì´ë¦„ê³¼ ê°™ìŒ 
  - í•¨ìˆ˜í˜• ì¸í„°í˜ì´ìŠ¤ì˜ ìœ ì¼í•œ ì¶”ìƒ ë©”ì„œë“œ ë³¸ë¬¸ì— ì‚¬ìš©í•  ëŒë‹¤ë§Œì„ ì¸ìë¡œ ë°›ì•„ í•¨ìˆ˜í˜• ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„í•˜ëŠ” í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ ë°˜í™˜
  - ëŒë‹¤ë¡œ ìƒì„±í•œ í•¨ìˆ˜í˜• ì¸í„°í˜ì´ìŠ¤ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë³€ìˆ˜ì— ì €ì¥í•˜ëŠ” ê²½ìš°ì—ë„ ì‚¬ìš©

> **ëŒë‹¤ì™€ ë¦¬ìŠ¤ë„ˆ ë“±ë¡/í•´ì œí•˜ê¸°**
>
> ëŒë‹¤ì—ëŠ” `this` ê°€ ì—†ìŒ. ë”°ë¼ì„œ ëŒë‹¤ë¥¼ ë³€í™˜í•  ë¬´ëª… í´ë˜ìŠ¤ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì°¸ì¡°í•  ë°©ë²•ì´ ì—†ìŒ
>
> ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆê°€ ì´ë²¤íŠ¸ ì²˜ë¦¬í•˜ë‹¤ê°€ ìì‹ ì˜ ë¦¬ìŠ¤ë„ˆ ë“±ë¡ì„ í•´ì œí•´ì•¼ í•œë‹¤ë©´ ëŒë‹¤ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ê³  ëŒ€ì‹  ë¬´ëª… ê°ì²´ë¥¼ ì‚¬ìš©!

  - í•¨ìˆ˜í˜• ì¸í„°í˜ì´ìŠ¤ ìš”êµ¬í•˜ëŠ” ë©”ì„œë“œ í˜¸ì¶œí•  ë•Œ ëŒ€ë¶€ë¶„ SAM ë³€í™˜ì„ ì»´íŒŒì¼ëŸ¬ê°€ ìë™ìœ¼ë¡œ ìˆ˜í–‰í•  ìˆ˜ ìˆì§€ë§Œ, ê°€ë” ì˜¤ë²„ë¡œë“œí•œ ë©”ì„œë“œ ì¤‘ ì–´ë–¤ íƒ€ì…ì˜ ë©”ì„œë“œë¥¼ ì„ íƒí•´ ëŒë‹¤ë¥¼ ë³€í™˜í•´ ë„˜ê²¨ì¤˜ì•¼ í• ì§€ ëª¨í˜¸í•  ë•ŒëŠ” ëª…ì‹œì ìœ¼ë¡œ SAM ìƒì„±ì ì ìš©

### ìˆ˜ì‹  ê°ì²´ ì§€ì • ëŒë‹¤
> ìˆ˜ì‹  ê°ì²´ë¥¼ ëª…ì‹œí•˜ì§€ ì•Šê³  ëŒë‹¤ ë³¸ë¬¸ ì•ˆì—ì„œ ë‹¤ë¥¸ ê°ì²´ì˜ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•  ìˆ˜ ìˆê²Œ í•¨

- with í•¨ìˆ˜
  - ì–´ë–¤ ê°ì²´ ì´ë¦„ ë°˜ë³µí•˜ì§€ ì•Šê³  ê°ì²´ì— ëŒ€í•´ ë‹¤ì–‘í•œ ì—°ì‚° ìˆ˜í–‰ ê°€ëŠ¥
```Kotlin
fun alphabet(): String {
  val result = StringBuilder()
  for (letter in 'A'..'Z') {
    result.append(letter)
  }
  result.append("\nNow I know the alphabet!")
  return result.toString()
}

//with ì‚¬ìš©
fun alphabet(): String {
  val stringBuilder = StringBuilder()
  return with(stringBuilder) {
    for (letter in 'A'..'Z') {
      this.append(letter) //this ëª…ì‹œí•´ì„œ ì•ì—ì„œ ì§€ì •í•œ ìˆ˜ì‹  ê°ì²´ ë©”ì„œë“œ í˜¸ì¶œ
    }
    append("\nNow I know the alphabet!") //this ìƒëµ
    this.toString() //ëŒë‹¤ì—ì„œ ê°’ ë°˜í™˜
  }
}

//ë¦¬íŒ©í† ë§
fun alphabet() = with(StringBuilder() {
  for (letter in 'A'..'Z') {
    append(letter)
  }
  append("\nNow I know the alphabet!")
  toString()
})
```
  - ì‹¤ì œë¡œëŠ” íŒŒë¼ë¯¸í„° 2ê°œ ìˆëŠ” í•¨ìˆ˜
    - ì²« ë²ˆì§¸ íŒŒë¼ë¯¸í„°: stringBuilder, ë‘ë²ˆì§¸ íŒŒë¼ë¯¸í„°: ëŒë‹¤
  - ì²« ë²ˆì§¸ ì¸ìë¡œ ë°›ì€ ê°ì²´ë¥¼ ë‘ ë²ˆì§¸ ì¸ìë¡œ ë°›ì€ ëŒë‹¤ì˜ ìˆ˜ì‹  ê°ì²´ë¡œ ë§Œë“¦

> ìˆ˜ì‹  ê°ì²´ ì§€ì • ëŒë‹¤ì™€ í™•ì¥ í•¨ìˆ˜ ë¹„êµ
>
> í™•ì¥ í•¨ìˆ˜ ì•ˆì—ì„œ thisëŠ” í•¨ìˆ˜ê°€ í™•ì¥í•˜ëŠ” íƒ€ì…ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê°€ë¦¬í‚´
>
> ì¼ë°˜ í•¨ìˆ˜ <-> ì¼ë°˜ ëŒë‹¤, í™•ì¥ í•¨ìˆ˜ <-> ìˆ˜ì‹  ê°ì²´ ì§€ì • ëŒë‹¤

> ë©”ì„œë“œ ì´ë¦„ ì¶©ëŒì‹œ `this@OuterClass.toString()` ê³¼ ê°™ì´ ì‚¬ìš©

- apply í•¨ìˆ˜
  - with í•¨ìˆ˜ì™€ ê°™ìœ¼ë‚˜ í•­ìƒ ìì‹ ì—ê²Œ ì „ë‹¬ëœ ê°ì²´(ìˆ˜ì‹  ê°ì²´)ë¥¼ ë°˜í™˜í•¨
  ```Kotlin
  fun alphabet() = StringBuiler().apply {
    for (letter in 'A'..'Z') {
      append(letter)
    }
    append("\nNow I know the alphabet!")
  }.toString()
  ```
  - apply ì‹¤í–‰í•œ ê²°ê³¼ëŠ” StringBuilder ê°ì²´ì´ê¸° ë•Œë¬¸ì— ê°ì²´ì˜ `toString`ì„ í˜¸ì¶œí•´ì„œ String ê°ì²´ë¥¼ ì–»ì„ ìˆ˜ ìˆìŒ
  - ê°ì²´ ì¸ìŠ¤í„´ìŠ¤ ë§Œë“¤ë©´ì„œ ì¦‰ì‹œ í”„ë¡œí¼í‹° ì¤‘ ì¼ë¶€ë¥¼ ì´ˆê¸°í™”í•˜ëŠ” ê²½ìš° ìœ ìš©